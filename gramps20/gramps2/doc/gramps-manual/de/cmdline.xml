<?xml version="1.0" encoding="UTF-8"?>
<!--
	  User Manual for Gramps - a GTK+/GNOME based genealogy program

	  Copyright (C) 2003  Alexander Roitman

	  Permission is granted to copy, distribute and/or modify this
	  document under the terms of the GNU Free Documentation
	  License (GFDL), Version 1.1 or any later version published
	  by the Free Software Foundation with no Invariant Sections,
	  no Front-Cover Texts, and no Back-Cover Texts. 
          A copy of the license is included in the file COPYING-DOCS 
          distributed with this manual.
-->

<!-- $Id$ -->

      <!-- =============== Appendices Subsection ================ -->
  <sect2 id="append-cmdline">
  <title>Befehlszeilen-Referenz</title>
  <para>Dieser Anhang liefert eine Referent über die Möglichkeiten,
  wenn Sie &app; aus dem Terminal starten.</para>

  <para>Lassen Sie uns anmerken, dass &app; als ein interaktives
  Programm entworfen wurde. Deshalb benutzt es eine grafische Ansicht und
  kann nicht von eine echten nicht-grafischen Konsole gestartet werden. Es
  würde einen enormen Aufwand darstellen eine Ausführung in einem Nur-Text
  Terminal zu ermöglichen. Aus diesem Grund zielen die möglichen
  Befehlszeilenparameter nicht darauf ab, komplett auf die grafisch
  Anzeige zu verzichten. Eher machen sie einige typische Aufgaben
  angenehmer. Sie erlauben Ihnen auch diese Aufgaben aus Skripten
  heraus auszuführen. Jedenfalls muss die grafische Anzeige immer
  verfügbar sein!</para>

  <para>Zusammengefasst bietet die Benutzung der Befehlszeilenparameter
  nicht-interaktives Verhalten, aber beseitigt nicht die Abhängigkeit
  von der grafischen Anzeige. Take it or leave it!
  </para>


      <sect3 id="cmdline-options">
      <title>Verfügbare Parameter</title>

      <para>Hier ist ein Liste der möglichen Parameter in &app;:</para>

          <variablelist>

          <varlistentry><term>Format-Parameter</term>
          <listitem><para>Das Format der Dateien für den Import oder
	  Export kann festgelegt werden mit dem
	  	<command>-f</command> <replaceable>Format</replaceable>
          Parameter. <replaceable>Format</replaceable> kann eines der
	  folgenden sein:

          	<variablelist>

          	<varlistentry><term>gramps</term>
          	<listitem><para> &app;-Datenbank. Dieses Format ist sowohl
		für den Import als auch für den Export verfügbar. Falls
		nicht gegeben wird es geraten, wenn der Dateiname ein
		Verzeichnis darstellt.</para></listitem>
		</varlistentry>

          	<varlistentry><term>gedcom</term>
          	<listitem><para> GEDCOM-Datei. Dieses Format ist für den
		Import und den Export verfügbar. Falls nicht angegeben
		wird es geraten, wenn der Dateiname mit .ged endet.
                </para></listitem></varlistentry>

          	<varlistentry><term>gramps-pkg</term>
          	<listitem><para> &app;-Paket. Dieses Format ist für den
		Import und Export verfügbar. Falls nicht angegeben wird es
		geraten, wenn der Dateiname mit .tgz endet.
                </para></listitem></varlistentry>

          	<varlistentry><term>wft</term>
          	<listitem><para> Web Family Tree. Dieses Format ist nur für
		den Export verfügbar. Falls nichts angegeben wird es
		geraten, wenn der Dateiname mit .wft endet.
                </para></listitem></varlistentry>

          	<varlistentry><term>iso</term>
          	<listitem><para> CD-Image. Dieses Format ist nur für den
		Export verfügbar. Es muss immer ausdrücklich angegeben
		werden.
                </para></listitem></varlistentry>

          	</variablelist>

          </para></listitem>
          </varlistentry>

          <varlistentry><term>Import-Parameter</term>
          <listitem><para>Die für den Import vorgesehenen Dateien können
	  mit dem
          	<command>-i</command> <replaceable>Dateiname</replaceable>
          Parameter angegeben werden. Das Format kann mit dem
	  <command>-f</command> Parameter bestimmt werden, der sofort
	  auf dem <replaceable>Dateiname</replaceable>n folgt.
	  Falls es nicht angegeben wird, wird versucht das Format aus
	  dem <replaceable>Dateiname</replaceable>n zu ermitteln. Für
	  das <term>gramps</term>-Format, ist
	  <replaceable>Dateiname</replaceable> der Name eines Verzeichnisses,
	  unter dem sich die gramps Datenbank befindet. Für
          <term>gedcom</term> und <term>gramps-pkg</term> ist
          <replaceable>Dateiname</replaceable> des Name der entsprechenden
	  Datei.</para>

          <para>Falls mehr als eine Eingabedatei angegeben wird, muss
	  jeder einem <command>-i</command> folgen. Die Dateien werden in
	  der angegebenen Reihenfolge importiert, z.B.
	  <command>-i</command> <replaceable>Datei1</replaceable>
          <command>-i</command> <replaceable>Datei2</replaceable>
          und
          <command>-i</command> <replaceable>Datei2</replaceable>
          <command>-i</command> <replaceable>Datei1</replaceable>
	  könnte verschiedene gramps-ID's in der resultierenden
	  Datenbank resultieren.
          </para></listitem>
          </varlistentry>


          <varlistentry><term>Export-Parameter</term>
          <listitem><para>Die für den Export vorgesehenen Dateien können
	  mit dem
          	<command>-o</command> <replaceable>Dateiname</replaceable>
          Parameter angegeben werden. Das Format kann mit dem
	  <command>-f</command> Parameter bestimmt werden, der sofort auf
	  dem <replaceable>Dateiname</replaceable>n folgt.
          Falls es nicht angegeben wird, wird versucht das Format aus
	  dem <replaceable>Dateiname</replaceable>n zu ermitteln.
          Für die <term>gramps</term>- und <term>iso</term>-Formate,
          ist der <replaceable>Dateiname</replaceable> der Name eines
          Verzeichnisses, in das die gramps-Datenbank geschrieben wird.
          Für <term>gedcom</term>, <term>wft</term> und <term>gramps-pkg</term>
          ist der <replaceable>Dateiname</replaceable> der Name der
          resultierenden Datei.
          </para>

          <para>Wenn mehr als eine Ausgabedatei angeben wird, muss jede auf
          einem <command>-o</command>-Parameter folgen. Diese Dateien werden
          nacheinander geschrieben, in der angegebenen Reihenfolge.
          </para></listitem>
          </varlistentry>

          <varlistentry><term>Aktion-Parameter</term>
          <listitem><para>Die Aktion, die mit den importierten Daten
          durchgeführt werden soll, kann mit dem
          	<command>-a</command> <replaceable>Aktion</replaceable>
          Parameter festgelegt werden. Dies wird getan, wenn alle Importe
          erfolgreich durchgeführt worden sind. Die momentan verfügbaren
          Aktionen sind <term>summary</term> (dasselbe wie 
          <menuchoice><guimenu>Berichte</guimenu>
          <guisubmenu>Ansichten</guisubmenu>
	  <guimenuitem>Datenbankübersicht</guimenuitem></menuchoice>)
          und <term>check</term> (dasselbe wie 
          <menuchoice><guimenu>Werkzeuge</guimenu>
          <guisubmenu>Datenbankverarbeitung</guisubmenu>
	  <guimenuitem>Datenbank prüfen und reparieren</guimenuitem></menuchoice>).
          </para>

          <para>Wenn mehr als eine Ausgabeaktion angegeben wird, muss jede
          auf einem <command>-a</command> Parameter folgen. Die Aktionen
          werden nacheinander in der entsprechenden Reihenfolge durchgeführt.
          </para></listitem>
          </varlistentry>

          </variablelist>

      </sect3>


      <sect3 id="cmdline-operation">
      <title>Operationen</title>
      
       <para>Die Reihenfolge der <command>-i</command>, <command>-o</command>, 
       oder <command>-a</command> Parameter spielt keine Rolle. Die
       tatsächliche Ausführungsreihenfolge ist immer: alle Import ->
       alle Exporte -> alle Aktionen.</para>
                                                                                
       <para>Wenn kein <command>-i</command> Parameter angegeben wird,
       startet gramps sein Hauptfenster und startet die gewöhnliche
       interaktive Sitzung mit der leeren Datenbank (denn es gibt
       keine Daten zu verarbeiten). </para>
                                                                                
       <para>Wenn kein <command>-o</command> oder <command>-a</command> 
       Parameter angegeben ist, startet gramps sein Hauptfenster und
       startet die gewöhnliche interaktive Sitzung mit der, aus allen
       Importen resultierenden Datenbank. Die Datenbank liegt dann in
       dem Verzeichnis <replaceable>~/.gramps/import</replaceable>.</para>
                                                                                
       <para>Fehler, die während des Imports, Exports oder einer Aktion
       auftreten, werden entweder auf stdout (wenn es Exceptions sind, die
       von gramps behandelt werden) oder auf stderr (wenn sie nicht
       behandelt werden). Benutzen Sie die gewöhnlichen Shell-Umleitungen
       von stdout und stderr um diese Nachrichten und Fehler in Dateien
       zu speichern.</para>

      </sect3>

      <sect3 id="cmdline-examples">
      <title>Beispiele</title>
        <para>Um vier Datenbanken (dessen Format aus ihren
        Namen bestimmt werden kann) zu importieren und die resultieren
        Datenbank auf Fehler zu überprüfen, kann man schreiben:</para>
        <para><command>gramps -i</command> <replaceable>datei1.ged</replaceable> 
        <command>-i</command> <replaceable>datei2.tgz</replaceable> 
        <command>-i</command> <replaceable>~/db3</replaceable> 
        <command>-i</command> <replaceable>datei4.wft</replaceable> 
        <command>-a</command> <replaceable>check</replaceable>
        </para> 
        
        <para>Um explizit die Formate im oberen Beispiel anzugeben, hängen
        Sie an die Dateinamen die entsprechenden <command>-f</command>
        Parameter:</para>
        <para><command>gramps -i</command> <replaceable>datei1.ged</replaceable> 
          <command>-f</command> <replaceable>gedcom</replaceable> 
        <command>-i</command> <replaceable>datei2.tgz</replaceable> 
          <command>-f</command> <replaceable>gramps-pkg</replaceable> 
        <command>-i</command> <replaceable>~/db3</replaceable> 
          <command>-f</command> <replaceable>gramps</replaceable> 
        <command>-i</command> <replaceable>datei4.wft</replaceable> 
          <command>-f</command> <replaceable>wft</replaceable> 
        <command>-a</command> <replaceable>check</replaceable>
        </para>

       <para>Um die aus allen Importen resultierende Datenbank aufzuzeichnen,
       benutzen Sie ein <command>-o</command> Parameter (benutzen Sie
       <command>-f</command>, wenn der Dateiname es gramps nicht
       ermöglicht das Format zu raten):</para>
        <para><command>gramps -i</command> <replaceable>datei1.ged</replaceable> 
        <command>-i</command> <replaceable>datei2.tgz</replaceable> 
        <command>-o</command> <replaceable>~/neues-paket</replaceable> 
          <command>-f</command> <replaceable>gramps-pkg</replaceable> 
        </para>
                                                                                
       <para>Um Fehlermeldungen der oberen Beispiele in die Dateien
       <replaceable>outfile</replaceable> und 
       <replaceable>errfile</replaceable> zu speichern, führen Sie aus:
       </para>
        <para><command>gramps -i</command> <replaceable>datei1.ged</replaceable> 
        <command>-i</command> <replaceable>datei2.tgz</replaceable> 
        <command>-o</command> <replaceable>~/neues-paket</replaceable> 
        <command>-f</command> <replaceable>gramps-pkg</replaceable> 
        &gt;<replaceable>outfile</replaceable> 
        2&gt;<replaceable>errfile</replaceable> 
        </para>

       <para>Um drei Datenbanken zu importieren und ein interaktive gramps-
       Sitzung zu starten:</para>
        <para><command>gramps -i</command> <replaceable>datei1.ged</replaceable> 
        <command>-i</command> <replaceable>datei2.tgz</replaceable> 
        <command>-i</command> <replaceable>~/db3</replaceable> 
        </para> 
                                                                                
       <para>Schließlich, um eine normale interaktive Sitzung zu starten,
       tippen Sie:</para>
       <para> <command>gramps </command></para>
                                                                                
      </sect3>

      </sect2> 
